<div class="row">
  <div class="col mt-3 ">
    <!-- <div class="col-md-12 ">
      <img src="assets/picto-Intervention-sur-site.jpg" class="rounded" wight="150" height="150">
    </div> -->
    <div class="row">
      <div class="col-md-6">
        <h3><i class="fas fa-info-circle blue-color"></i>&nbsp;Demande d'intervention</h3>
      </div>
      <div class="col-md-6">
       <p class="text-right mr-4"><small><i class="fas fa-star-of-life blue-color"></i>&nbsp;Demande d'entretien ou réparation d'équipement</small></p>

      </div>
    </div>
  </div>
</div>
<hr>
<div class="alert alert-danger" *ngIf="errorMsg.length > 0">
  <div *ngFor="let msg of errorMsg">
    <span >{{msg}}</span>
  </div>
</div>
<form>
  <div class="row mb-3 p-0 m-1">
    <div class="col-md-6">
      <label>Société de maintenance </label>
        <select class="custom-select" name="modele" (change)="onChangeIntervenant($any($event.target).value)">
          <option value="0">selectionnez la société</option>
          <option *ngFor="let societeMaintenance of listeSocietePrincipale" [value]="societeMaintenance.id">{{societeMaintenance.denomination}}</option>
        </select>

    </div>
    <div class="col-md-6" >

      <label>Responsable</label>
        <select class="custom-select" name="modele" (change)="onChangeIntervenant($any($event.target).value)" [(ngModel)]="interv.id">
          <option value="0">selectionnez le responsable</option>
          <option *ngFor="let intervs of listeIntervenant" [value]="intervs.id">{{intervs.emailIntervenant}}</option>
        </select>
    </div>


  </div>
  <div class="row p-0 m-1 mb-3">
    <div class="col-md-6">
      <label>Bien immobilier </label>
      <select class="custom-select" (change)="onChangeBienImmobilier($any($event.target).value)">
        <option selected>Selectionnez un bien immobilier</option>
        <option *ngFor="let bien of listeBienImmoDto" [value]="bien.id">{{bien.nomBienImmobilier}}</option>

      </select>
    </div>
    <div class="col-md-6">

        <label>Pièce</label>
        <select class="form-control" name="piece" [(ngModel)]="pieceDto.id">
          <option value="0">selectionnez la piece</option>
          <!-- {{listePiece.bienImmobilierDto?.nomBienImmobilier}}-{{listePiece.typeSalle}}-{{listePiece.nomPiece}} -->
          <option *ngFor="let piece of listePieceDto" [value]="piece.id">{{piece.bienImmobilierDto?.nomBienImmobilier}}-{{piece.typeSalle}}-{{piece.nomPiece}}</option>
        </select>
    </div>
  </div>

    <div class="row p-0 m-1 mb-3" hidden>
    <div class="col-md-6">
      <label>Type de maintenance </label>
      <select class="custom-select" name="objetPanne">
        <option  value ="MAINTENANCE CORRECTIVE"selected>MAINTENANCE CORRECTIVE</option>
        <option value="MAINTENANCE PREVENTIVE">MAINTENANCE PREVENTIVE</option>

      </select>
    </div>
    <div class="col-md-6">

        <label>Etat de la panne</label>
        <select class="custom-select">
          <option value="En panne" selected>En panne</option>
        </select>

    </div>
  </div>


  <div class="row p-0 m-2 mb-3">
    <!-- <div class="col-6">
      <label>Motif d'intervention</label>
      <input type="text" class="form-control" placeholder="motif">
    </div> -->
    <!-- <div class="col-6">
      <label>Date d'echeance</label>
      <input type="date" class="form-control" placeholder="date" name="piece" [(ngModel)]="signalerpanneDto.id">
    </div> -->

    <div class="col-6">
      <label>Priorité</label>
      <select class="custom-select" name="priorite" [(ngModel)]="signalerpanneDto.priorite">
        <option value="Urgent" selected>Urgent</option>
        <option value="Normale">Normale</option>
        <option value="Basse">Basse</option>
      </select>
    </div>

  </div>
<div class="row p-0 m-2 mb-3">
  <div class="col-6">
    <label>Description du problème</label>
    <textarea class="form-control m-0" placeholder="Description du problème" rows="2"
    name="descriptionPanne" [(ngModel)]="signalerpanneDto.descriptionPanne"></textarea>
  </div>
  <div class="col-6">
    <label>Suggestions de réparation ou améliorations à apporter</label>
    <textarea class="form-control m-0" placeholder="Suggestions de réparation ou améliorations à apporter"
     rows="2" name="suggestionsAmeliration" [(ngModel)]="signalerpanneDto.suggestionsAmeliration"></textarea>
  </div>


</div>

  <div class="row p-0 m-4 mb-3">
    <div class="col-md-12 text-right">
      <button type="button" class="btn btn-danger mr-3" (click)="cancel() "><i class="fas fa-ban"></i>&nbsp;Annuler</button>
      <button type="button" class="btn btn-primary" (click)="saveSignalerPanne()"><i class="fas fa-save"></i>&nbsp;Enregistrer</button>
    </div>
  </div>
</form>








