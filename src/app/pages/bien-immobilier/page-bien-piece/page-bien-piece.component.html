<div class="col">
  <div class="row m-3">
    <div class="col-md-8 p-0">
      <h1>Liste des pièces</h1>
    </div>
    <div class="col-md-4 text-right">
      <app-boutton-action (clickEvent)="nouvellePiece()"></app-boutton-action>
    </div>

  </div>
  <div class="col m-3" *ngFor="let bienimmo of listeBienImmo
  | paginate: {
    itemsPerPage: 2,
    currentPage: page,
    totalItems:totalLigne
  }">

      <!--  -->
      <div class="accordion" id="accordionExample{{bienimmo.id}}">
        <div class="card mb-2">
          <div class="card-header" id="headingOne">
            <h2 class="mb-0">
              <button class="btn btn-link btn-block text-left" type="button" data-toggle="collapse"
              [attr.data-target]="'#collapseOne'+bienimmo.id"
              aria-expanded="true" aria-controls="collapseOne">
                <app-detail-bien-immo-piece
                 [bienImmo]="bienimmo"
                 >
                </app-detail-bien-immo-piece>
              </button>
            </h2>
          </div>

          <div id="collapseOne{{bienimmo.id}}" class="collapse" aria-labelledby="headingOne"
          [attr.data-parent]="'#accordionExample'+bienimmo.id"
          style="max-height: 300px; overflow-y:scroll">
            <div class="card-body">
             <app-detail-piece
             *ngFor="let ligne of mapLignesPieces.get(bienimmo.id)"
              [listePiece]="ligne"
             >
             </app-detail-piece>
             <div class="row mb-3">
              <div class=" col-md-12 text-center">
                  <app-pagination></app-pagination>
              </div>
            </div>

            </div>
          </div>
        </div>
        <!-- ------------------------>
      </div>
      <!--  -->
      <div class="card-footer mb-0 mt-0">
        <div class="row">
          <div class="col-md-6 text-left">
            <h5>{{mapLignesPieces.get(bienimmo.id).length}} Pièce(s)</h5>
          </div>
          <div class="col-md-6 text-right">
            <h5></h5>
          </div>
        </div>
      </div>
  </div>

  <div class="row mb-3">
    <div class=" col-md-12 text-center">
      <pagination-controls (pageChange)="page = $event"></pagination-controls>
    </div>
  </div>

</div>


